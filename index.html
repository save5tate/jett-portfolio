<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Jett Giammarusti - Home</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Minimal styling for welcome message */
        #welcome-message {
            margin: 20px 0;
            font-size: 1.2em;
            font-weight: 500;
            color: #222;
        }
    </style>
</head>
<body>

<header>
    <h1>Jett Giammarusti</h1>
</header>

<section id="welcome-section">
    <form id="nameForm">
        <label for="nameInput">Enter your name:</label>
        <input type="text" id="nameInput" placeholder="Your name">
        <button type="submit">Submit</button>
    </form>
    <p id="welcome-message"></p>
</section>

<section>
    <h2>About Me</h2>
    <p>
        I am Jett Giammarusti, a 25 year old sophomore student at OCC. My focus is CIS software engineering.
        In my personal life I am a server, I play poker professionally, and I enjoy playing competitive Pokémon!
    </p>
</section>

<section>
    <h2>Current Classes</h2>
    <ul>
        <li>Front-End Web Technologies</li>
        <li>Interpersonal Communication</li>
        <li>Data Structures</li>
        <li>JAVA Programming</li>
    </ul>
</section>

<section>
    <h2>My Favorite Things</h2>
    <ul>
        <li><strong>Sports:</strong> I love watching sports and am an avid sports bettor.</li>
        <li><strong>Poker:</strong> I have been playing poker for 9 years and dream of going pro one day.</li>
        <li><strong>Video Games:</strong> I have competed at a high level and still enjoy playing competitively.</li>
    </ul>
</section>

<section>
    <h2>My Favorite Pokémon</h2>
    <div class="pokemon-gallery">
        <a href="https://pokepast.es/placeholder1" target="_blank">
            <img src="azelf.png" alt="Azelf">
        </a>
        <a href="https://pokepast.es/placeholder2" target="_blank">
            <img src="bellossom.png" alt="Bellossom">
        </a>
        <a href="https://pokepast.es/placeholder3" target="_blank">
            <img src="cofagrigus.png" alt="Cofagrigus">
        </a>
    </div>
</section>

<section>
    <p>
        Check out my competitive Pokémon teams: 
        <a href="teams.html">OU Teams</a>
    </p>
</section>

<script>

function getCurrentDateTime() {
    const now = new Date();
    const time = now.toLocaleTimeString('en-US', { timeZone: 'America/New_York', hour12: true });
    const date = now.toLocaleDateString('en-US', { timeZone: 'America/New_York' });
    return { time, date };
}


function mapWeatherCodeToDescription(code) {
    const weatherDescriptions = {
        0: 'clear sky',
        1: 'mainly clear',
        2: 'partly cloudy',
        3: 'overcast',
        45: 'fog',
        48: 'depositing rime fog',
        51: 'light drizzle',
        53: 'moderate drizzle',
        55: 'dense drizzle',
        56: 'light freezing drizzle',
        57: 'dense freezing drizzle',
        61: 'slight rain',
        63: 'moderate rain',
        65: 'heavy rain',
        66: 'light freezing rain',
        67: 'heavy freezing rain',
        71: 'slight snow',
        73: 'moderate snow',
        75: 'heavy snow',
        77: 'snow grains',
        80: 'slight rain showers',
        81: 'moderate rain showers',
        82: 'violent rain showers',
        85: 'slight snow showers',
        86: 'heavy snow showers',
        95: 'thunderstorm',
        96: 'thunderstorm with slight hail',
        99: 'thunderstorm with heavy hail'
    };
    return weatherDescriptions[code] || 'unknown';
}


async function fetchWeather() {
    try {
        const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=42.3314&longitude=-83.0458&current_weather=true');
        const data = await response.json();
        return mapWeatherCodeToDescription(data.current_weather.weathercode);
    } catch {
        return 'unknown';
    }
}

// Update welcome message every second
async function updateWelcomeMessage() {
    const name = localStorage.getItem('userName') || '';
    const lastVisit = localStorage.getItem('lastVisit');
    const { time, date } = getCurrentDateTime();
    const weather = await fetchWeather();

    let greeting = 'Hello';
    const hour = new Date().toLocaleTimeString('en-US', { timeZone: 'America/New_York', hour12: true }).split(':')[0];
    if (hour < 12) greeting = 'Good morning';
    else if (hour < 18) greeting = 'Good afternoon';
    else greeting = 'Good evening';

    const nameText = name ? ` ${name}!` : '';
    const lastVisitText = lastVisit ? ` Btw, you last visited on ${lastVisit}.` : '';

    document.getElementById('welcome-message').textContent =
        `${greeting}${nameText} It's ${time} EST on ${date}, and it's ${weather} right now.${lastVisitText}`;

    localStorage.setItem('lastVisit', `${date} at ${time}`);
}


document.getElementById('nameForm').addEventListener('submit', (event) => {
    event.preventDefault();
    const nameInput = document.getElementById('nameInput').value.trim();
    if (nameInput) {
        localStorage.setItem('userName', nameInput);
        document.getElementById('nameInput').value = '';
    }
});


updateWelcomeMessage();
setInterval(updateWelcomeMessage, 1000);
</script>

</body>
</html>


